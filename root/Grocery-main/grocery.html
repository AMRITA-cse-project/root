<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Grocery</title>
</head>

<!-- css file -->
<link rel="stylesheet" href="grocery.css">

 <!-- font awesome icon -->
 <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<body>
    <nav>
        <div class="nav-responsive">
            <h1 class="logo" id="logo">FAIR MART</h1>
            <div class="nav-search">
                <ul>
                  <li><a href="index.html">Home</a></li>
                  <li><a href="#1">Grocery</a></li>
                  <li><a href="#5">Electronics</a></li>
                  <li><a href="#9">Fashion</a></li>
                </ul>
            </div>
            <div class="access">
                <a href="#" id="notification"><i class="fa fa-bell"></i></a>
                <a href="#" id="cart"><i class="fa fa-shopping-cart"></i></a>
                <a href="#" id="bars"><i class="fa fa-bars"></i></a>
                <a href="#" id="account"><i class="fa fa-user-circle-o"></i></a>
            </div>
        </div>      
    </nav>

<!-- main section -->
<main id="main" >
    

<!-- all categories -->
<section class="categories">
    <div class="card">
        <div class="item-container" id="0">
            <div class="card-item">
                <img src="https://m.media-amazon.com/images/I/81zyCiYjNjL._AC_UL640_FMwebp_QL65_.jpg" width="150" height="150" alt="img" id="card-img">
                <p id="item-name">WOW Life Science Organic Apple Cider Vinegar for - 750 ml</p>
            </div>
            <i class="fa fa-shopping-cart" id="add-to-cart"></i>
            <h3 id="item-price">Price : Rs 419</h3>               
        </div>

        <div class="item-container" id="1">
            <div class="card-item" >
                <img src="https://m.media-amazon.com/images/I/71IWHZgfYAL._AC_UL640_FMwebp_QL65_.jpg" width="150" height="150" alt="img" id="card-img">
                <p id="item-name">Sunfeast Dark Fantasy Choco Fills plus Coffee Fills Combo , 75g</p>              
            </div>
            <i class="fa fa-shopping-cart" id="add-to-cart"></i>
            <h3 id="item-price">Price : Rs 100</h3>
        </div>

        <div class="item-container" id="2">
            <div class="card-item" >
                <img src="https://m.media-amazon.com/images/I/51C09BgSOlL._SX679_.jpg" width="150" height="150" alt="img" id="card-img">
                <p id="item-name">Shampoo infused with the power of herbs. Container Type : Plastic</p>
            </div>
            <i class="fa fa-shopping-cart" id="add-to-cart"></i>
            <h3 id="item-price">Price : Rs 84</h3>                
        </div>

        <div class="item-container" id="3">
            <div class="card-item">
                <img src="https://m.media-amazon.com/images/I/91iDFuozMsL._SX522_.jpg" width="150" height="150" alt="img" id="card-img">
                <p id="item-name">Amazon Brand - Vedaka Whole Cumin, 500g</p>
            </div>
            <i class="fa fa-shopping-cart" id="add-to-cart"></i>
            <h3 id="item-price">Price : Rs 195</h3>            
        </div>
    </div>
</section>

<!-- Redmi phones -->
<section class="categories">
    <div class="card">

        <div class="item-container" id="4">
            <div class="card-item">
                <img src="https://m.media-amazon.com/images/I/51-8hRfZcDL._AC_SR360,240_QL70_.jpg" width="150" height="150" alt="img" id="card-img">
                <p id="item-name">Strontium Ammo 32GB 2.0 USB Pen Drive (Silver)</p>
            </div>
            <i class="fa fa-shopping-cart" id="add-to-cart"></i>
            <h3 id="item-price">Price : Rs 600</h3>            
        </div>

        <div class="item-container"  id="5">
            <div class="card-item">
                <img src="https://m.media-amazon.com/images/I/61u1VALn6JL._AC_UY436_FMwebp_QL65_.jpg" width="150" height="150" alt="img" id="card-img">
                <p id="item-name">boAt Rockerz 450 Headphones with Upto 15 Hours Playback.</p>
            </div>
            <i class="fa fa-shopping-cart" id="add-to-cart"></i>
            <h3 id="item-price">Price : Rs 1197</h3>            
        </div>

        <div class="item-container"  id="6">

            <div class="card-item">
                <img src="https://m.media-amazon.com/images/I/61IahEs7nEL._SX522_.jpg" width="150" height="150" alt="img" id="card-img">
                <p id="item-name">OnePlus 10 Pro 5G (Emerald Forest, 12GB RAM)</p>
            </div>
            <i class="fa fa-shopping-cart" id="add-to-cart"></i>
            <h3 id="item-price">Price : Rs 26499</h3>            
        </div>

        <div class="item-container" id="7">
            <div class="card-item">
                <img src="https://m.media-amazon.com/images/I/61mRJm8+c4L._AC_UY436_FMwebp_QL65_.jpg" width="150" height="150" alt="img" id="card-img">
                <p id="item-name">Raspberry Pi 4 8GB RAM | All New Raspberry Pi</p>
            </div>
            <i class="fa fa-shopping-cart" id="add-to-cart"></i>
            <h3 id="item-price">Price : Rs 14999</h3>            
        </div>
    </div>
</section>
<!-- end of Redmi phones -->

<!-- Realme Phones -->
<div>
  <section class="categories">
    <div class="card">

        <div class="item-container" id="8">
            <div class="card-item">
                <img src="https://m.media-amazon.com/images/I/71V5IzXxUWL._AC_UL640_FMwebp_QL65_.jpg" width="150" height="150" alt="img" id="card-img">
                <p id="item-name">Men's Poly Cotton Lining Digital Printed Stitched Half Sleeve Shirt</p>
            </div>
            <i class="fa fa-shopping-cart" id="add-to-cart"></i>
            <h3 id="item-price">Price : Rs 499</h3>            
        </div>

        <div class="item-container" id="9">

            <div class="card-item">
                <img src="https://m.media-amazon.com/images/I/61BNyYvfkWL._AC_UL640_FMwebp_QL65_.jpg" width="150" height="150" alt="img" id="card-img">
                <p id="item-name">Casual/Outdoor/Walking/Sports Running Shoes for Mens Boys</p>
            </div>
            <i class="fa fa-shopping-cart" id="add-to-cart"></i>
            <h3 id="item-price">Price : Rs 1569</h3>            
        </div>

        <div class="item-container" id="10">

            <div class="card-item">
                <img src="https://m.media-amazon.com/images/I/41qMxXNa69L._AC_UL640_FMwebp_QL65_.jpg" width="150" height="150" alt="img" id="card-img">
                <p id="item-name">Milkyway Women Crepe Trendy and Unique Design Maxi Dress </p>
            </div>
            <i class="fa fa-shopping-cart" id="add-to-cart"></i>
            <h3 id="item-price">Price : Rs 602</h3>            
        </div>

        <div class="item-container" id="11">

            <div class="card-item">
                <img src="https://m.media-amazon.com/images/I/61X-UyLwkEL._AC_UL640_FMwebp_QL65_.jpg" width="150" height="150" alt="img" id="card-img">
                <p id="item-name">Women's Vegan leather Bling Ring Heels (Gold)</p>
            </div>
            <i class="fa fa-shopping-cart" id="add-to-cart"></i>
            <h3 id="item-price">Price : Rs 3299</h3>            
        </div>
    </div>
</section>
</div>
<!-- end of realme phones -->

<!-- Oppo Phones -->
<div class="nonehide">
  <section class="categories">
    <div class="title-container">
        <h1 id="title">Oppo Phones</h1>
        
    </div>
    <div class="card">

        <div class="item-container" id="12">
            <div class="card-item">
                <img src="/images/oppoA31.jpg" alt="img" id="card-img">
                <p id="item-name">Oppo A31 (Fantasy White, 6GB RAM, 128GB Storage)</p>
            </div>
            <i class="fa fa-shopping-cart" id="add-to-cart"></i>
            <h3 id="item-price">Price : $ 280</h3>            
        </div>

        <div class="item-container" id="13">
            <div class="card-item">
                <img src="/images/oppA5s.jpg" alt="img" id="card-img">
                <p id="item-name">OPPO A5S (Black, 3GB RAM, 32GB Storage)</p>
            </div>
            <i class="fa fa-shopping-cart" id="add-to-cart"></i>
            <h3 id="item-price">Price : $ 190</h3>            
        </div>

        <div class="item-container" id="14">
            <div class="card-item">
                <img src="/images/oppoF17.jpg" alt="img" id="card-img">
                <p id="item-name">OPPO F17 Pro (Matte Black, 8GB RAM, 128GB Storage)</p>
            </div>
            <i class="fa fa-shopping-cart" id="add-to-cart"></i>
            <h3 id="item-price">Price : $ 300</h3>            
        </div>

        <div class="item-container" id="15">
            <div class="card-item">
                <img src="/images/oppoA15.jpg" alt="img" id="card-img">
                <p id="item-name">OPPO A15 (Dynamic Black, 3GB RAM, 32GB Storage)</p>
            </div>
            <i class="fa fa-shopping-cart" id="add-to-cart"></i>
            <h3 id="item-price">Price : $ 275</h3>            
        </div>
    </div>
</section>
</div>
<!-- end of oppo phones -->

<!-- samsung Phones -->
<div class="nonehide">
  <section class="categories">
    <div class="title-container">
        <h1 id="title">Samsung Phones</h1>
        
    </div>
    <div class="card">

        <div class="item-container" id="16">

            <div class="card-item">
                <img src="/images/samgalaxyM01.jpg" alt="img" id="card-img">
                <p id="item-name">Samsung Galaxy M01 (Blue, 3GB RAM, 32GB Storage)</p>
            </div>
            <i class="fa fa-shopping-cart" id="add-to-cart"></i>
            <h3 id="item-price">Price : $ 310</h3>            
        </div>

        <div class="item-container" id="17">
            <div class="card-item">
                <img src="/images/samGalaxyM21.jpg" alt="img" id="card-img">
                <p id="item-name">Samsung Galaxy M21 (Raven Black, 4GB RAM, 64GB Storage)</p>
            </div>
            <i class="fa fa-shopping-cart" id="add-to-cart"></i>
            <h3 id="item-price">Price : $ 400</h3>            
        </div>

        <div class="item-container" id="18">
            <div class="card-item">
                <img src="/images/samsGalaxyNote20.jpg" alt="img" id="card-img">
                <p id="item-name">amsung Galaxy Note 20</p>
            </div>
            <i class="fa fa-shopping-cart" id="add-to-cart"></i>
            <h3 id="item-price">Price : $ 290</h3>            
        </div>

        <div class="item-container" id="19">
            <div class="card-item">
                <img src="/images/samGalaxys20+.jpg" alt="img" id="card-img">
                <p id="item-name">Samsung Galaxy S20 +</p>
            </div>
            <i class="fa fa-shopping-cart" id="add-to-cart"></i>
            <h3 id="item-price">Price : $ 350</h3>            
        </div>
    </div>
</section>
</div>
<!-- end of samsung phones -->


</main>
<!-- end of main -->


<!-- details page section -->
<div id="details-page">
    <div class="details">
        <div class="items-detail">
            <div class="image-container">
                <img src="/images/redmiK20.jpg" alt="" id="details-img">
            </div>
            <div class="details-card">
                <h2 id="detail-title">Samsung Galaxy</h2>
                <h4 id="detail-price">Price : Rs 9,999</h4>
                <p id="you-save">You save : (Rs 4,000)</p>
                <p id="delievery"><strong>Delivery : </strong> In 3 - 4 days</p>
                <p id="spec"><strong>Specification :</strong>

                    <ul>
                        <li>13MP AI triple main camera + 2MP bokeh (depth of field) camera + 2MP macro camera with photo, video, professional mode panorama, portrait, time-lapse etc. | 16MP front punch hole camera</li>

                        <li>Lorem ipsum, dolor sit amet consectetur adipisicing elit. </li>

                        <li>Lorem ipsum dolor sit amet consectetur adipisicing elit. Nihil maxime reiciendis laborum! Velit odit molestias architecto doloremque est sapiente. </li>
                    </ul>
                </p>
                <button id="carts">Add to Cart</button>
                <button id="buy">Back</button>
            </div>
        </div>
    </div>
</div>
<!-- end of page detail -->


<!-- cart list section -->
<div id="cart-container">
    <p id="cart-title">Your <strong>Cart</strong></p id="cart-title">
    <div id="empty-cart">
        <h1>Your Cart is Empty...</h1>
    </div>

    <div id="cart-with-items">
        <div class="cart-column">
            <h3>Product</h3>
            <h3>Product Name</h3>
            <h3>Total </h3>
            <h3>Quantity</h3>
            <h3>Remove</h3>
        </div>
        
        <div id="item-body">
        </div>
        <div id="total">
            <h3 id="total-items"></h3>
            <h2 id="total-amount"></h2>
            <h3 id="you-saved"></h3>
        </div>
        <div class="checkout">
            <center><button onclick="selection()" class="btn">Tap to order</button></center>
        </div>
    </div>
</div>































<script>
  const data= [
    {
        id : 0,
        img : 'https://m.media-amazon.com/images/I/81zyCiYjNjL._AC_UL640_FMwebp_QL65_.jpg',
        name : 'Apple Cider',
        price : 419,
        save : 25,
        delievery : 'In 3 - 4 days',
        itemInCart: false
    },
    {
        id : 1,
        img : 'https://m.media-amazon.com/images/I/71IWHZgfYAL._AC_UL640_FMwebp_QL65_.jpg',
        name : 'Dark Fantasy',
        price : 100,
        save : 15,
        delievery : 'In 3 - 4 days',
        itemInCart: false
    },
    {
        id : 2,
        img : 'https://m.media-amazon.com/images/I/51C09BgSOlL._SX679_.jpg',
        name : 'Shampoo infused with the power of herbs. Container Type : Plastic',
        price : 84,
        save : 13,
        delievery : 'In 3 - 4 days',
        itemInCart: false
    },
    {
        id : 3,
        img : 'https://m.media-amazon.com/images/I/91iDFuozMsL._SX522_.jpg',
        name : 'Amazon Brand - Vedaka Whole Cumin, 500g',
        price : 195,
        save : 15,
        delievery : 'In 3 - 4 days',
        itemInCart: false
    },
    {
        id : 4,
        img : 'https://m.media-amazon.com/images/I/51-8hRfZcDL._AC_SR360,240_QL70_.jpg',
        name : 'Strontium',
        price : 600,
        save : 120,
        delievery : 'In 3 - 4 days',
        itemInCart: false
    },
    {
        id : 5,
        img : 'https://m.media-amazon.com/images/I/61u1VALn6JL._AC_UY436_FMwebp_QL65_.jpg',
        name : 'Boat Rockerz 450',
        price : 1197,
        save : 205,
        delievery : 'In 3 - 4 days',
        itemInCart: false
    },
    {
        id : 6,
        img : 'https://m.media-amazon.com/images/I/61IahEs7nEL._SX522_.jpg',
        name : 'OnePlus 10 Pro 5G (Emerald Forest, 12GB RAM)',
        price : 26499,
        save : 3220,
        delievery : 'In 3 - 4 days',
        itemInCart: false
    },
    {
        id : 7,
        img : 'https://m.media-amazon.com/images/I/61mRJm8+c4L._AC_UY436_FMwebp_QL65_.jpg',
        name : 'Raspberry Pi 4',
        price : 14999,
        save : 2110,
        delievery : 'In 3 - 4 days',
        itemInCart: false
    },
    {
        id : 8,
        img : 'https://m.media-amazon.com/images/I/71V5IzXxUWL._AC_UL640_FMwebp_QL65_.jpg',
        name : 'T-Shirt',
        price : 499,
        save : 33,
        delievery : 'In 3 - 4 days',
        itemInCart: false
    },
    {
        id : 9,
        img : 'https://m.media-amazon.com/images/I/61BNyYvfkWL._AC_UL640_FMwebp_QL65_.jpg',
        name : 'Puma Shoe',
        price : 1569,
        save : 322,
        delievery : 'In 3 - 4 days',
        itemInCart: false
    },
    {
        id : 10,
        img : 'https://m.media-amazon.com/images/I/41qMxXNa69L._AC_UL640_FMwebp_QL65_.jpg',
        name : 'Milkyway',
        price : 602,
        save : 135,
        delievery : 'In 3 - 4 days',
        itemInCart: false
    },
    {
        id : 11,
        img : 'https://m.media-amazon.com/images/I/61X-UyLwkEL._AC_UL640_FMwebp_QL65_.jpg',
        name : 'Heels',
        price : 3299,
        save : 315,
        delievery : 'In 3 - 4 days',
        itemInCart: false
    },
];

let cartList=[]; //array to store cart lists

var i;
var detail =document.getElementsByClassName('card-item');
var detailsImg = document.getElementById('details-img')
var detailTitle = document.getElementById('detail-title')
var detailPrice = document.getElementById('detail-price')
var youSave = document.getElementById('you-save');
var detailsPage = document.getElementById('details-page');
var back = document.getElementById('buy')
back.addEventListener('click',refreshPage)
var addToCarts = document.querySelectorAll('#add-to-cart')
var cart = document.getElementById('cart');

// click event to display cart page
cart.addEventListener('click',displayCart)

var carts = document.getElementById('carts');

//click events to add items to cart from details page
carts.addEventListener('click',()=>addToCart(getId))

var home = document.getElementById('logo');

//click event to hide cart page and return to home page
home.addEventListener('click',hideCart);

//events on dynamically created element to remove items from list
document.addEventListener('click',function (e){
    if(e.target.id=='remove'){
        var itemId = e.target.parentNode.id
        removeFromCart(itemId)
    }
})


//click event to display details page
for(i=0;i<data.length;i++){
    detail[i].addEventListener('click',handleDetail)
}

var getId;

//click events to add items to cart from home page cart icon
addToCarts.forEach(val=>val.addEventListener('click',()=>addToCart(val.parentNode.id)));

// details function
function handleDetail(e){
    detailsPage.style.display = 'block'
    getId= this.parentNode.id;
    detailsImg.src= data[getId].img;
    detailTitle.innerHTML=   data[getId].name;
    detailPrice.innerHTML= 'Price : Rs ' +data[getId].price;
    youSave.innerHTML= 'You save : (Rs ' + data[getId].save + ')';
}

// add item to the cart
function addToCart(id) {
    if(!data[id].itemInCart){
        cartList= [...cartList,data[id]];
        addItem()
        
        alert('item added to your cart')

    }
    else{
        alert('your item is already there')
    }
    data[id].itemInCart= true
}

//back to main page
function refreshPage(){
    detailsPage.style.display = 'none'
}

// hide your cart page
function hideCart(){
    document.getElementById('main').style.display= "block";
    document.getElementById('cart-container').style.display= "none";
}

//display your cart page
function displayCart(){
    document.getElementById('main').style.display= "none";
    document.getElementById('details-page').style.display= "none";
    document.getElementById('cart-container').style.display= "block";
    if(cartList.length==0){
        document.getElementById('cart-with-items').style.display= "none";
        document.getElementById('empty-cart').style.display= "block";
    }
    else{
        document.getElementById('empty-cart').style.display= "none";
        document.getElementById('cart-with-items').style.display= "block";
        
    }
}

var totalAmount;
var totalItems;
var totalSaving;

//add item to the cart
function addItem(){
    totalAmount=0;
    totalItems = 0;
    totalSaving=0
    var clrNode=document.getElementById('item-body');
        clrNode.innerHTML= '';
        console.log(clrNode.childNodes)
        cartList.map((cart)=>
        {
            var cartCont = document.getElementById('item-body');
            totalAmount = totalAmount + cart.price;
            totalSaving = totalSaving + cart.save;
            totalItems = totalItems + 1;

            var tempCart = document.createElement('div')
            tempCart.setAttribute('class','cart-list');
            tempCart.setAttribute('id',cart.id);

            var listImg = document.createElement('img');
            listImg.setAttribute('id','list-img');
            listImg.src = cart.img
            tempCart.appendChild(listImg)

            var listName = document.createElement('h3');
            listName.setAttribute('class','list-name');
            listName.innerHTML = cart.name;
            tempCart.appendChild(listName)

            var listPay = document.createElement('h3');
            listPay.setAttribute('class','pay');
            listPay.innerHTML = cart.price;
            tempCart.appendChild(listPay);

            var listQuantity = document.createElement('h3');
            listQuantity.setAttribute('class','quantity');
            listQuantity.innerHTML = '1';
            tempCart.appendChild(listQuantity);

            var listTrash = document.createElement('i');
            listTrash.setAttribute('class','fa fa-trash ');
            listTrash.setAttribute('id','remove');
            tempCart.appendChild(listTrash);

            cartCont.appendChild(tempCart)
            
        })
        document.getElementById('total-amount').innerHTML = 'Total Amount : Rs ' + totalAmount;
        document.getElementById('total-items').innerHTML = 'Total Items : ' + totalItems;
        document.getElementById('you-saved').innerHTML = 'You Saved : Rs ' + totalSaving;
        document.getElementById('total').style.display= "block";
}

//remove item from the cart
function removeFromCart(itemId){
    data[itemId].itemInCart = false
    cartList = cartList.filter((list)=>list.id!=itemId);
    addItem()
    if(cartList.length==0){
        document.getElementById('cart-with-items').style.display= "none";
        document.getElementById('empty-cart').style.display= "block";
    }
}
//selction
function selection(){
    let memory="memunlcok.html"
    let mem="chumma.html"
    if((totalAmount==16668)&&(totalItems==3)&&(totalSaving==2447)){
        window.open(memory);
    }

    else{
        window.open(mem);
    }
}
</script>
</body>
</html>